{"componentChunkName":"component---src-components-templates-blog-template-tsx","path":"/blog/new-smart-contract-development-processes/","result":{"data":{"mdx":{"frontmatter":{"author":"Fredrik Harryson","date_published":"May 11, 2018","image":"","slug":"blog/new-smart-contract-development-processes/","tags":["Security"],"blogTitle":"Secure from scratch: our new smart contract development processes"},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"index\",\n  \"tags\": [\"Security\"],\n  \"author\": \"Fredrik Harryson\",\n  \"blogTitle\": \"Secure from scratch: our new smart contract development processes\",\n  \"slug\": \"blog/new-smart-contract-development-processes/\",\n  \"date_published\": \"2018-05-11T04:00:00.000Z\",\n  \"image\": \"\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We founded InvisibleHandLab with the aspiration to write the best and safest software we can. We\\u2019ve learned a lot from our past mistakes. The wallet bugs, in particular, lead us to research how we can make writing and deploying software as safe as possible. This resulted in:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Rebuilding how we develop smart contracts from the ground up.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Retiring all smart contract development unless absolutely necessary.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Overhauling our processes and creating a security-first development environment for our innovations.\")), mdx(\"p\", null, \"Having users affected by software bugs is an experience we would not wish on anyone. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"We would like for our bugs to be a catalyst for more secure Ethereum development.\"), \" To aid that process, we are sharing whatever we can to help the Ethereum community develop more securely and prevent bugs.\"), mdx(\"p\", null, \"Soon we\\u2019ll release our newly developed smart contract procedures and maintenance guidelines. In this post, we are sharing our standards for reviewing pull requests, the tools we use for better security, our 100% coverage policy, our 100% external review policy, and our strict adherence to a style guide. We welcome teams to review these procedures and guidelines to help inform their own secure development practices. We also invite feedback on the procedures so we can keep iterating and improving. Humans are fallible, but by working together we can improve development processes we can make Ethereum a safer place for developers and users.\"), mdx(\"h2\", null, \"Introducing Our Head of Security\"), mdx(\"p\", null, \"As part of our security-first initiative, we have created a Head of Security role to focus on ensuring secure development. We are pleased to announce that we appointed Kirill Pimenov for this role. Previously, Kirill worked on continuously delivering web-facing services for Suse Linux, including the ones handling the most sensitive customers\\u2019 data. He has an excellent understanding of not only our codebase but the necessity to continuously push security forward on every front. Kirill supervises audits, manages bug bounties, and advances our secure development practices.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u201CIn most web development, you can say, \\u2018worst case scenario, we do a patch update.\\u2019 But this is not the case in smart contract development. It\\u2019s necessary that we approach smart contract engineering like what we see in aerospace\\u2014another field where you cannot have anything fail.\\u201D\"), \" \\u2014 Kirill Pimenov\"), mdx(\"h2\", null, \"Ensuring Security: A 14-Point Checklist for Well-Maintained Smart Contracts\"), mdx(\"p\", null, \"To ensure smart contract security, we have developed a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://invisiblehandlab.kinera.network/paritys-checklist-for-secure-smart-contract-development/\"\n  }, \"14-point smart contract security process\"), \". This process has been \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://paritytech.io/parity-technologies-appoints-trail-of-bits-to-lead-security-review/\"\n  }, \"reviewed by our auditing partner, Trail of Bits\"), \".\"), mdx(\"p\", null, \"The process is developed from an end-to-end perspective on writing smart contracts. This includes having a separate organization on Github under which contracts live for ease of visibility and auditability. Every contract has its own repository with its own CI pipeline. We specify how contracts should be developed and provide a standardized CI pipeline of tools that need to pass without error, and developers are encouraged to add more on top of that. The checklist also details how to track real-world deployments and outlines what documentation is necessary (such as contingency plans or documentation on how to handle updates and redeployments).\"), mdx(\"p\", null, \"We are in the final stages of preparing this checklist for public release. We look forward to publishing this checklist to get feedback on anything that can be further improved, as well as provide a resource to help the greater smart contract development community develop securely. (Update: the checklist is now available \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://invisiblehandlab.kinera.network/paritys-checklist-for-secure-smart-contract-development/\"\n  }, \"here\"), \".)\"), mdx(\"h2\", null, \"Explicitly Assigned Code Owners & Double Mandatory Code Reviews\"), mdx(\"p\", null, \"To ensure every code commit is thoroughly reviewed, we now require two reviews for every pull request. Additionally, we understand that sometimes code has implicit assumptions which may not be evident to those who are seeing the code for the first time. To counter that, we have explicitly assigned code owners who are required to be one of the two reviewers.\"), mdx(\"h2\", null, \"Trail of Bits Security Audit\"), mdx(\"p\", null, \"We are in the final stages of \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://paritytech.io/parity-technologies-appoints-trail-of-bits-to-lead-security-review/\"\n  }, \"a security audit led by Trail of Bits\"), \". We will soon announce the findings and learnings from this in-depth review.\"), mdx(\"h2\", null, \"Tools for Better Security\"), mdx(\"p\", null, \"Our auditing partner Trail of Bits provided us with \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://blog.trailofbits.com/2018/03/23/use-our-suite-of-ethereum-security-tools/\"\n  }, \"Slither\"), \", their tool that combines a set of proprietary static analyses on Solidity to detect common mistakes such as bugs in reentrancy, constructors, method access, and more. InvisibleHandLab is one of the first to integrate Slither into a Continuous Testing cycle. To make that process smoother, we\\u2019ve contributed some code to Slither so that the tool plays nicely with other tooling.\"), mdx(\"p\", null, \"Additionally, we use other tools to help ensure security:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.getsolium.com/\"\n  }, \"Solium\"), \", a static analyzer for solidity\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://truffleframework.com/\"\n  }, \"Truffle\"), \", a testing framework\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://coveralls.io/\"\n  }, \"Coveralls\"), \", service to measure and track test coverage\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://travis-ci.org/\"\n  }, \"Travis\"), \", a tool for running tests that disables the merge button if any test fails\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/trailofbits/echidna/\"\n  }, \"Echidna\"), \", a tool for fuzz testing smart contracts (used outside of our automated continuous testing feedback loop)\")), mdx(\"p\", null, \"Furthermore, we disallow any pull request to be merged if the test coverage, as reported by Coveralls, goes down.\"), mdx(\"p\", null, \"While Slither is proprietary, the rest of the tools are free for open source projects and provide a decent foundation for secure development. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"We believe everyone should be using them or similar alternatives.\")), mdx(\"p\", null, \"These are the tools that we try to integrate into our CI pipeline. Aside from these, we are looking into several other tools including different languages. Some of these tools we are actively using and some we are very interested in using in the future, examples include \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/trailofbits/manticore\"\n  }, \"Manticore for EVM\"), \", \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ConsenSys/mythril\"\n  }, \"Mythril\"), \" and early stage or experimental efforts like \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ethereum/vyper\"\n  }, \"Vyper\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pirapira/bamboo\"\n  }, \"Bamboo\"), \".\"), mdx(\"h2\", null, \"100% Coverage Policy\"), mdx(\"p\", null, \"We have committed to a 100% coverage policy, meaning that every line in the smart contract is executed by a testing tool at least once. However, in practice, we execute each line of code multiple times by multiple test suites. We know that 100% test coverage is not a perfect security indicator, but it is a helpful yardstick in code review. You can \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/paritytech/parity-bridge\"\n  }, \"see examples\"), \" of several test-suites for the contracts in practice, like a unit test suite and an integration test suite.\"), mdx(\"h2\", null, \"100% External Review Policy\"), mdx(\"p\", null, \"Before any contract is deployed to main-net and deemed ready for production use, there is a strict requirement to go through a third party code review aka audit for that contract. While code reviews will never guarantee a smart contract is bug-free, it is another important step to help ensure correct operation.\"), mdx(\"p\", null, \"We prefer the term \\u201Cexternal code review,\\u201D as the term \\u201Caudit\\u201D might create a false sense of security. There is no magic to that step. It is in the end also only another pair of external eyes \\u2013 though ideally very experienced and thorough leveraging advanced tools.\"), mdx(\"h2\", null, \"Adopting a Strict Style Guide\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u201CHumans should be able to easily understand our code, machines should be delighted by the adherence to best coding practices.\\u201D\"), \" \\u2014 Kirill Pimenov, InvisibleHandLab\\u2019 Head of Security\"), mdx(\"p\", null, \"To ensure our code is easily followable by auditors, team members, code-parsing machinery of different tools, and the wider community, we\\u2019ve set a strict style guide. Because we want our code to be easily readable by \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.getsolium.com/\"\n  }, \"Solium\"), \", our style guide is based on Solium\\u2019s standards. Having a set and automatically enforced style guide will additionally make it easier to spot erroneous code.\"), mdx(\"h2\", null, \"Continuing Our Successful Bug Bounty Program\"), mdx(\"p\", null, \"Our \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://paritytech.io/bug-bounty/\"\n  }, \"Bug Bounty program\"), \" is alive and well. Thanks to the bounty program, volunteers came forward and helped us find several bugs. The Geth team has also initiated a discussion to start a Common Vulnerabilities and Exposures (CVE) list/programme, an initiative we wholly support and want to contribute to, this could apply to both client work and contracts/compilers.\"), mdx(\"h2\", null, \"Helping Make Ethereum Development More Secure\"), mdx(\"p\", null, \"We hope our revamped security processes will inspire other projects. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://twitter.com/ParityTech\"\n  }, \"Follow us on Twitter\"), \" for updates on our future public releases of our smart contract procedures, as well as our thoughts on Wasm being the future of smart contract development.\"), mdx(\"p\", null, \"We welcome questions, feedback, and contribution on our security processes. Please join us on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://gitter.im/paritytech/parity\"\n  }, \"Gitter\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://riot.im/app/#/room/#watercooler:matrix.parity.io\"\n  }, \"Riot\"), \" to discuss secure development best practices.\"));\n}\n;\nMDXContent.isMDXComponent = true;","timeToRead":5,"excerpt":"We founded InvisibleHandLab with the aspiration to write the best and safest software we can. We’ve learned a lot from our past mistakes…"},"allMdx":{"edges":[{"node":{"frontmatter":{"blogTitle":"We just released ink! 4.0!","date_published":"February 08, 2023","image":"/images/qsdh5p9.jpeg","slug":"we-just-released-ink-4-0"}}},{"node":{"frontmatter":{"blogTitle":"Parity Leadership Update","date_published":"October 21, 2022","image":"/images/blog-post.png","slug":"blog/parity-leadership-update/"}}},{"node":{"frontmatter":{"blogTitle":"Transitioning Parity Ethereum to OpenEthereum DAO","date_published":"December 16, 2019","image":"/images/parity-ethereum-openethereum.jpeg","slug":"blog/parity-ethereum-openethereum-dao/"}}}]}},"pageContext":{"slug":"blog/new-smart-contract-development-processes/","locale":"en","hrefLang":"en-US","originalPath":"/blog/new-smart-contract-development-processes/","dateFormat":"MM/DD/YYYY"}},"staticQueryHashes":["1239077767","1247656359","3280999885","3280999885","4123762078","4185913137","607815487","607815487"]}