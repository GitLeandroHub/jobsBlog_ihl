{"componentChunkName":"component---src-components-templates-blog-template-tsx","path":"/blog/why-libp2p","result":{"data":{"mdx":{"frontmatter":{"author":"Pierre Krieger","date_published":"February 06, 2019","image":"/images/why-libp2p-1.png","slug":"blog/why-libp2p","tags":["Parity Ethereum","Polkadot","Parity Substrate","Rust"],"blogTitle":"Why libp2p?"},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"index\",\n  \"tags\": [\"Parity Ethereum\", \"Polkadot\", \"Parity Substrate\", \"Rust\"],\n  \"author\": \"Pierre Krieger\",\n  \"blogTitle\": \"Why libp2p?\",\n  \"slug\": \"blog/why-libp2p\",\n  \"date_published\": \"2019-02-06T05:00:00.000Z\",\n  \"image\": \"/images/why-libp2p-1.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"If you have been following the development of \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://polkadot.network/\"\n  }, \"Polkadot\"), \", \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ethereum/eth2.0-specs/tree/v0.1\"\n  }, \"Ethereum 2.0\"), \" or \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://parity.io/substrate\"\n  }, \"Substrate\"), \", you may have heard of \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://libp2p.io/\"\n  }, \"libp2p\"), \". Libp2p is a network framework that allows you to write decentralized peer-to-peer applications. Originally the networking protocol of \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://ipfs.io/\"\n  }, \"IPFS\"), \", it has since been extracted to become its own first-class project.\"), mdx(\"p\", null, \"As part of the development process of Polkadot, we created \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/libp2p/rust-libp2p\"\n  }, \"our own implementation of libp2p written in Rust\"), \", with the intent of using it in Polkadot and Substrate. While not completely mature, it is already quite robust and successfully powering the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://telemetry.polkadot.io/\"\n  }, \"current testnets\"), \".\"), mdx(\"p\", null, \"So what is libp2p and why did we choose it as the networking layer of Polkadot and Substrate?\"), mdx(\"h2\", null, \"Objectives\"), mdx(\"p\", null, \"All distributed peer-to-peer networks have a set of challenges that are distinct from traditional networks. Libp2p is a generalized toolkit so that developers can use plug-and-play networking with their distributed application.\"), mdx(\"p\", null, \"A fundamental shift in distributed computing is that the \\u201Cclient/server\\u201D paradigm no longer holds up. Let\\u2019s take a look at what your home router does. Every device in your home network has a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"private\"), \" IP address. When you request data from a server, your router replaces your device\\u2019s private address with your home\\u2019s \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"public\"), \" IP address, and remembers which device to send the response to.\"), mdx(\"p\", null, \"That works fine if all your devices are clients, but what about when a request from the outside world shows up at your router? It\\u2019s not a response to a request, it is a request, so the requestor thinks that you are a server. One of your devices is acting as a server, but your router doesn\\u2019t know which one. This is a problem called \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/NAT_traversal\"\n  }, \"NAT traversal\"), \", and libp2p provides tools to help handle it.\"), mdx(\"p\", null, \"Libp2p also handles peer discovery and handshake protocols. In a world where clients act as servers too, there will inevitably be a variety of hardware, operating systems, and communication protocols between nodes. Encryption and security underpin Web3 design, and libp2p supports both unencrypted (e.g. TCP, UDP) and encrypted protocols (e.g. TLS, Noise) out of the box.\"), mdx(\"p\", null, \"Many web protocols are stuck in the 90\\u2019s, and as security holes are breached, more and more patches are added. That\\u2019s where libp2p\\u2019s modularity comes in. Libp2p is designed so that you can upgrade any element you want, all while remaining backwards compatible.\"), mdx(\"h2\", null, \"Modularity\"), mdx(\"p\", null, \"Libp2p has been designed from the start to be very modular, so that it can be implemented in many different peer-to-peer projects. While nodes in traditional peer-to-peer applications are referred to by an IP address and port combination, libp2p uses the concept of a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"multiaddress\"), \" instead. Some examples:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"/ip4/90.46.231.22/udp/25000\"), \" indicates the node whose IP address is \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"90.46.231.22\"), \" and listening on \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"UDP\"), \" port \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"25000\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"_/ip6/fe80::0202:b3ff:fe1e:8329/udp/1567/_quic means that we should use \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://en.wikipedia.org/wiki/QUIC\"\n  }, mdx(\"strong\", {\n    parentName: \"a\"\n  }, \"the QUIC protocol\")), \" on top of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"UDP\"), \" port \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"1567\"), \" with an IPv6 address.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"/dnsaddr/example.com/tcp/80/ws\"), \" means that we should use \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://en.wikipedia.org/wiki/WebSocket\"\n  }, mdx(\"strong\", {\n    parentName: \"a\"\n  }, \"the WebSocket protocol \")), \"on top of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"TCP\"), \" port \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"80\"), \", using DNS to resolve the hostname example.com.\")), mdx(\"p\", null, \"Not all projects that use libp2p need to support all protocols. In fact, the concept of a multiaddress exists in order to make it possible to extend libp2p with new protocols (as was done for example with QUIC in the past). In the future we may, for example, add Bluetooth as a transport protocol.\"), mdx(\"p\", null, \"The second main aspect of libp2p\\u2019s modularity is its protocol negotiation process. Once a connection between two peers has been established, the only thing that libp2p handles is negotiating the protocols that are used on that connection.\"), mdx(\"p\", null, \"While nodes are encouraged to support a specific set of common protocols, none of them are technically mandatory. This makes it possible to easily experiment with new protocols or new ideas, and to deploy new versions of protocols while still supporting old versions without adding technical debt.\"), mdx(\"h2\", null, \"The main libp2p protocols\"), mdx(\"p\", null, \"While there is no mandatory protocol, in practice nodes are encouraged to support the most commonly-supported protocols. This includes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"secio\"), \", which is responsible for encrypting communications.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"mplex\"), \" or \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"yamux\"), \", which are protocols on top of \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"secio\"), \" that are responsible for multiplexing.\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Multiplexing\"\n  }, \"Multiplexing\"), \" is the process in which multiple individual streams of data are grouped together into a single connection. As in, you probably have one coax or fiber cable coming into your apartment, but you and your roommate both want to stream different movies on Netflix. The data must be multiplexed to travel to your home, and demultiplexed to arrive at the correct device.\"), mdx(\"p\", null, \"Once we have the ability to do this, we can, almost for free, open as many substreams as we want using as many different protocols as we want. These protocols include:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"identify\"), \", which makes it possible to obtain information about a node, including the multiaddresses it\\u2019s listening on and the multiaddress it sees us as, similar to what \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://en.wikipedia.org/wiki/STUN\"\n  }, \"the STUN protocol\"), \" does.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"ping\"), \", which enables pinging the remote to determine whether it\\u2019s still alive.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://en.wikipedia.org/wiki/Kademlia\"\n  }, mdx(\"em\", {\n    parentName: \"a\"\n  }, \"kademlia\")), \", for peer discovery and distributed records storage.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"floodsub\"), \" and \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"gossipsub\"), \", two \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\"\n  }, \"pub-sub\"), \" protocols.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"And several more, including, of course, any custom protocol one wishes to create.\")), mdx(\"p\", null, \"In the context of Substrate, each project is able to define its own networking protocol. For example, the protocol used by the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"BBQ Birch\"), \" testnet is named \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"bbq\"), \" while the protocol used by Polkadot is named \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"dot\"), \".\"), mdx(\"h2\", null, \"The global vision of libp2p\"), mdx(\"p\", null, \"Another reason to use libp2p is its involvement in decentralized projects. It has been powering \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://ipfs.io/\"\n  }, \"IPFS\"), \" from the very beginning, and is going to be powering several emerging projects such as \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://filecoin.io/\"\n  }, \"Filecoin\"), \", probably Ethereum 2.0, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://agoric.com/\"\n  }, \"Agoric\"), \", and of course Substrate and Polkadot.\"), mdx(\"p\", null, \"Having multiple projects share the same network protocol has a big advantage: it makes it possible for nodes to share their capability across multiple networks. To give you an example, let\\u2019s take the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"relay\"), \" protocol.\"), mdx(\"p\", null, \"In a decentralized environment, you often want nodes to be directly connected to one another. However, in practice, many nodes are not reachable, as they are behind NATs or use platforms that don\\u2019t allow incoming connections.\"), mdx(\"p\", null, \"To solve this problem, libp2p provides a protocol named \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"relay\"), \" which allows a node to act as a proxy between two other nodes. All communication is encrypted and the identity of the remote is verified, so the proxy cannot act as a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\"\n  }, \"man-in-the-middle\"), \".\"), mdx(\"p\", null, \"By having multiple projects use libp2p as their networking stack, they will all be able to benefit from the same relay nodes, and therefore share resources.\"), mdx(\"p\", null, \"Libp2p has been designed to be the network protocol powering the future of decentralization. When companies launch traditional applications, they only focus on the application experience and logic\\u2014they don\\u2019t need to reinvent TCP/IP. That is the ultimate goal of libp2p: allow application developers to develop applications knowing that their service will be reachable and available. With implementations in Rust, JavaScript, and Go and development in Java, Haskell, and Python, libp2p is growing fast.\"), mdx(\"p\", null, \"You can find the Rust code here: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/libp2p/rust-libp2p\"\n  }, \"libp2p/rust-libp2p\")), mdx(\"p\", null, \"If you want to contribute, start by checking out the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ipfs/community/blob/master/CONTRIBUTING.md\"\n  }, \"contribution guidelines\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","timeToRead":4,"excerpt":"If you have been following the development of  Polkadot ,  Ethereum 2.0  or  Substrate , you may have heard of  libp2p . Libp2p is a network…"},"allMdx":{"edges":[{"node":{"frontmatter":{"blogTitle":"We just released ink! 4.0!","date_published":"February 08, 2023","image":"/images/qsdh5p9.jpeg","slug":"we-just-released-ink-4-0"}}},{"node":{"frontmatter":{"blogTitle":"Parity Leadership Update","date_published":"October 21, 2022","image":"/images/blog-post.png","slug":"blog/parity-leadership-update/"}}},{"node":{"frontmatter":{"blogTitle":"Transitioning Parity Ethereum to OpenEthereum DAO","date_published":"December 16, 2019","image":"/images/parity-ethereum-openethereum.jpeg","slug":"blog/parity-ethereum-openethereum-dao/"}}}]}},"pageContext":{"slug":"blog/why-libp2p","locale":"en","hrefLang":"en-US","originalPath":"/blog/why-libp2p","dateFormat":"MM/DD/YYYY"}},"staticQueryHashes":["1239077767","1247656359","3280999885","3280999885","4123762078","4185913137","607815487","607815487"]}